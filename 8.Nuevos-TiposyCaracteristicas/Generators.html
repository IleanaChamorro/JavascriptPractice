<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuevos Tipos de Características en Javascript</title>
</head>
<body>
    

    <script>
        //Los Generators son funciones que devuelven iteradores y permiten un control mucho más fino del código asíncrono.


        //Sintaxis generador
        function* iterable(){
            //Similar al return, indica a la función que cuando detecte que lo mandan a llamar con método next del iterador, ahí manda el primer valor y ahí deja el cursor en el código interno de la función. En caso de no encontrar otro "yield", ahí acaban los valores de la función iterable. Entonces el método next en su propiedad "done" nos devolveria "true"
            yield "Hola";
            console.log("Hola consola");
            yield "hola 2";
            console.log("Seguimos con más instrucciones de nuestro código");
            yield "Hola 3";
            yield "hola 4";
        }

        let iterador = iterable();
        /*
        console.log(iterador.next());
        console.log(iterador.next());
        console.log(iterador.next());
        console.log(iterador.next());
        console.log(iterador.next());
        */


        //Por cada Yield en el iterador, imprimir el yield 
        for(let y of iterador){
            console.log(y);
        }

        //Guardar en un arreglo el resultado de una función generador 
        const arr = [...iterable()];
        console.log(arr);

        function cuadrado(valor){
            setTimeout(() => {
                console.log({valor, resultado: valor * valor})
            }, Math.random() * 1000);
    
        }

        function* generador(){
            console.log("Inicia Generador");
            yield cuadrado(0);
            yield cuadrado(1);
            yield cuadrado(2);
            yield cuadrado(3);
            yield cuadrado(4);
            yield cuadrado(5);
            console.log("Termina Generador");
        }

        let gen = generador();

        for(let y of gen){
            console.log(y);
        }
    </script>
</body>
</html>